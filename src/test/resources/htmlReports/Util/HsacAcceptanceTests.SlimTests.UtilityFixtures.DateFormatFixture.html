<html><head><title>HsacAcceptanceTests.SlimTests.UtilityFixtures.DateFormatFixture</title><meta http-equiv='Content-Type' content='text/html;charset=UTF-8'/><link rel='stylesheet' type='text/css' href='css/fitnesse.css'/><script src='javascript/jquery-1.11.3.min.js' type='text/javascript'></script><script src='javascript/fitnesse.js' type='text/javascript'></script></head><body><header><h2>HsacAcceptanceTests.SlimTests.UtilityFixtures.DateFormatFixture</h2></header><article><br/><h2 id="DateFormatFixture">Date Format Fixture</h2>
<h3 id="Features">Features:</h3>
<ul>
	<li>Format dates to timestamps (seconds/millis after epoch)</li>
	<li>Reformat dates/times to a different format</li>
	<li>Display timestamps as formatted dates</li>
</ul>
<br/>When the fixture is called without arguments, the date format is the system locale default short format and can be changed by using <i>set date format</i> followed by the desired format.<br/>Input dates are expected to be in the default or specified input format.<br/>To toggle between seconds/milliseconds after epoch, use <i>timestamp has milliseconds</i> followed by the desired boolean value (default: true)<br/>Time zone can be set using <i>set timezone</i> and -if no argument is given- defaults to the system default time zone.<br/><br/>This fixture is intended to be used as a library. (See below)<br/><br/><h3 id="Examples">Examples</h3>
<br/><span class="meta">variable defined: dateTime=10-05-2001 12:13:14</span>
<br/><span class="meta">variable defined: date=!today (dd-MM-yyyy)</span>
<br/><br/><h4 id="Instantiatewithsystemdefaultdateformatandtimezone">Instantiate with system default date format and timezone</h4>
<br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="5"><span class="pass">date format fixture</span></td>
	</tr>
	<tr class="slimRowColor1">
		<td colspan="6">#Get a timestamp for a given date and convert it back to formatted dates</td>
	</tr>
	<tr class="slimRowColor9">
		<td>set date format</td>
		<td colspan="5">dd-MM-yyyy</td>
	</tr>
	<tr class="slimRowColor6">
		<td>$stamp&lt;-[1557698400000]</td>
		<td>timestamp for date</td>
		<td colspan="4">13-05-2019</td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td>format timestamp</td>
		<td colspan="4">$stamp->[1557698400000]</td>
	<td>13-05-2019</td></tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td>format timestamp</td>
		<td>$stamp->[1557698400000]</td>
		<td>as</td>
		<td colspan="2">yyyy/MM/dd HH:mm:ss</td>
	<td>2019/05/13 00:00:00</td></tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>format timestamp</td>
		<td>$stamp->[1557698400000]</td>
		<td>as</td>
		<td>dd-MM-yyyy</td>
		<td><span class="pass">13-05-2019</span></td>
	</tr>
</table>
<br/><h4 id="Instantiatethefixturewithagivenformatandtimezone">Instantiate the fixture with a given format and time zone</h4>
<br/><p class="note">One could also specify only one constructor parameter, in which case the timezone remains the system's default.</p><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td><span class="pass">date format fixture</span></td>
		<td>dd-MM-yyyy HH:mm:ss</td>
		<td colspan="3">GMT+1</td>
	</tr>
	<tr class="slimRowColor6">
		<td>timestamp has milliseconds</td>
		<td colspan="5">false</td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td>format date</td>
		<td>10-05-2001 12:13:14</td>
		<td>as</td>
		<td colspan="2">yyyy/MM/dd HH:mm</td>
	<td>2001/05/10 12:13</td></tr>
	<tr class="slimRowColor6">
		<td>$stamp&lt;-[989493194]</td>
		<td>timestamp for date</td>
		<td colspan="4">10-05-2001 12:13:14</td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td>format timestamp</td>
		<td colspan="4">$stamp->[989493194]</td>
	<td>10-05-2001 12:13:14</td></tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>format timestamp</td>
		<td>$stamp->[989493194]</td>
		<td>as</td>
		<td>dd-MM-yyyy HH:mm:ss</td>
		<td><span class="pass">10-05-2001 12:13:14</span></td>
	</tr>
	<tr class="slimRowColor2">
		<td colspan="6">#Change the time zone, adding one hour to the expected outcome</td>
	</tr>
	<tr class="slimRowColor9">
		<td>set timezone</td>
		<td colspan="5">GMT+2</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>format timestamp</td>
		<td>$stamp->[989493194]</td>
		<td>as</td>
		<td>dd-MM-yyyy HH:mm:ss z</td>
		<td><span class="pass">10-05-2001 13:13:14 GMT+02:00</span></td>
	</tr>
	<tr class="slimRowColor2">
		<td colspan="6">#Change input format and convert to a different format</td>
	</tr>
	<tr class="slimRowColor9">
		<td>set date format</td>
		<td colspan="5">MM/dd/yyyy</td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>format date</td>
		<td>11/14/2016</td>
		<td>as</td>
		<td>dd-MM-yyyy</td>
		<td><span class="pass">14-11-2016</span></td>
	</tr>
</table>
<br/><h4 id="Useasalibraryfixturefromanyotherfixturetable">Use as a library fixture from any other fixture table</h4>
<br/>When we use this fixture as a library we can call date format methods from any script table.<br/><br/>By default a library will use system default date format and timezone.<br/><br/><table>
	<tr class="slimRowTitle">
		<td>library</td>
	</tr>
	<tr class="slimRowColor0">
		<td><span class="pass">date format fixture</span></td>
	</tr>
</table>
<br/>Example usage of date formatting methods from a string fixture script table:<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="5"><span class="pass">string fixture</span></td>
	</tr>
	<tr class="slimRowColor6">
		<td>$stamp&lt;-[1557698400000]</td>
		<td>timestamp for date</td>
		<td>13-05-2019</td>
		<td>as</td>
		<td colspan="2">dd-MM-yyyy</td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td>format timestamp</td>
		<td colspan="4">$stamp->[1557698400000]</td>
	<td>5/13/19</td></tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>format timestamp</td>
		<td>$stamp->[1557698400000]</td>
		<td>as</td>
		<td>dd-MM-yyyy</td>
		<td><span class="pass">13-05-2019</span></td>
	</tr>
</table>
<br/>But we can also configure the value used for format (leaving time zone alone).<br/><br/><table>
	<tr class="slimRowTitle">
		<td colspan="2">library</td>
	</tr>
	<tr class="slimRowColor0">
		<td><span class="pass">date format fixture</span></td>
		<td>dd-MM-yyyy</td>
	</tr>
</table>
<br/>Now the calls to the formatting methods behave differently:<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="3"><span class="pass">string fixture</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>format timestamp</td>
		<td>$stamp->[1557698400000]</td>
		<td><span class="pass">13-05-2019</span></td>
	</tr>
</table>
<br/>But we can also configure the values used for both format and time zone.<br/><br/><table>
	<tr class="slimRowTitle">
		<td colspan="3">library</td>
	</tr>
	<tr class="slimRowColor0">
		<td><span class="pass">date format fixture</span></td>
		<td>dd-MM-yyyy</td>
		<td>GMT+1</td>
	</tr>
</table>
<br/>Now the calls to the formatting methods behave differently again (the date might change depending on the default system locale used to generate the timestamp):<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="4"><span class="pass">string fixture</span></td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td>format timestamp</td>
		<td>$stamp->[1557698400000]</td>
		<td>as</td>
		<td>yyyy/MM/dd HH:mm:ss</td>
	<td>2019/05/12 23:00:00</td></tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td>format timestamp</td>
		<td colspan="3">$stamp->[1557698400000]</td>
	<td>12-05-2019</td></tr>
</table>
<br/>It's also possible to use an locale that is not your default locale:<br/><br/><table>
	<tr class="slimRowTitle">
		<td colspan="4">library</td>
	</tr>
	<tr class="slimRowColor0">
		<td><span class="pass">date format fixture</span></td>
		<td>EEE, MMM dd yyyy HH:mm:ss z</td>
		<td>UTC</td>
		<td>en_US</td>
	</tr>
</table>
<br/>Now we can also convert localized date strings:<br/><br/><table>
	<tr class="slimRowTitle">
		<td>script</td>
		<td colspan="5"><span class="pass">string fixture</span></td>
	</tr>
	<tr class="slimRowColor0">
		<td>check</td>
		<td>format date</td>
		<td>Thu, Dec 14 2017 11:50:00 UTC</td>
		<td>as</td>
		<td>dd-MM-yyyy HH:mm:ss</td>
		<td><span class="pass">14-12-2017 11:50:00</span></td>
	</tr>
	<tr class="slimRowColor9">
		<td>show</td>
		<td>format timestamp</td>
		<td colspan="4">$stamp->[1557698400000]</td>
	<td>Sun, May 12 2019 22:00:00 UTC</td></tr>
</table>
<br/></article></body></html>